<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
  <button id="sendmessage">Send message to app</button><br>
  <div id="log"></div><br>

<script type="text/javascript">
(function() {
var log=document.getElementById("log");
var appWindow, appOrigin;
function onMessage(e) {
  appWindow = e.source;
  appOrigin = e.origin;
  console.log(e);
  log.innerText+= e.data;
}
function doSendMessage() {
  if (appWindow && appOrigin) {
    appWindow.postMessage("Hello World!", appOrigin)
  }
}
window.addEventListener('message', onMessage);
document.getElementById("sendmessage").addEventListener('click', doSendMessage);
})();
</script>

</body>
</html>